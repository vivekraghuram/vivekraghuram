!function(){function a(b){this.$el=b;this.$input=this.$el.find("input[type=checkbox]");var c=this;this.$el.on(Gumby.click,function(d){d.stopImmediatePropagation();d.preventDefault();if(c.$input.is("[disabled]")){return}if(c.$el.hasClass("checked")){c.update(false)}else{c.update(true)}}).on("gumby.check",function(){c.update(true)}).on("gumby.uncheck",function(){c.update(false)});if(c.$el.hasClass("checked")){c.update(true)}}a.prototype.update=function(c){var b=this.$el.find("span");if(c){b.append('<i class="icon-check" />');this.$input.prop("checked",true).end().addClass("checked").trigger("gumby.onCheck").trigger("gumby.onChange")}else{this.$input.prop("checked",false).end().find("i").remove().end().removeClass("checked").trigger("gumby.onUncheck").trigger("gumby.onChange")}};Gumby.addInitalisation("checkboxes",function(){$(".checkbox").each(function(){var b=$(this);if(b.data("isCheckbox")){return true}b.data("isCheckbox",true);new a(b)})});Gumby.UIModule({module:"checkbox",events:["onCheck","onUncheck","onChange","check","uncheck"],init:function(){Gumby.initialize("checkboxes")}})}();!function(){function a(b){this.$el=b;this.rate=0;this.fontSizes={};this.setup();var c=this;this.$el.on("gumby.initialize",function(){c.setup()});$(window).on("load resize orientationchange",function(){c.resize()})}a.prototype.setup=function(){this.rate=Number(Gumby.selectAttr.apply(this.$el,["rate"]))||1;this.fontSizes=this.parseSizes(Gumby.selectAttr.apply(this.$el,["sizes"]))};a.prototype.resize=function(){this.$el.css("font-size",this.calculateSize())};a.prototype.calculateSize=function(){return Math.max(Math.min(this.$el.width()/(this.rate*10),parseFloat(this.fontSizes.max)),parseFloat(this.fontSizes.min))};a.prototype.parseSizes=function(b){var c={min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY};if(!b){return c}if(b.indexOf("|")>-1){b=b.split("|");c.min=Number(b[0])||c.min;c.max=Number(b[1])||c.max}c.min=Number(b)||c.min;return c};Gumby.addInitalisation("fittext",function(b){$(".fittext").each(function(){var c=$(this);if(c.data("isFittext")&&!b){return true}else{if(c.data("isFittext")&&b){c.trigger("gumby.initialize");return true}}c.data("isFittext",true);new a(c)})});Gumby.UIModule({module:"fittext",events:[],init:function(){Gumby.initialize("fittext")}})}();!function(){function a(b){this.$el=b;this.fixedPoint="";this.pinPoint=false;this.offset=0;this.pinOffset=0;this.top=0;this.constrainEl=true;this.state=false;this.measurements={left:0,width:0};this.setup();var c=this;$(window).on("scroll load",function(){c.monitorScroll()});this.$el.on("gumby.initialize",function(){c.setup()})}a.prototype.setup=function(){var b=this;this.fixedPoint=this.parseAttrValue(Gumby.selectAttr.apply(this.$el,["fixed"]));this.pinPoint=Gumby.selectAttr.apply(this.$el,["pin"])||false;this.offset=Number(Gumby.selectAttr.apply(this.$el,["offset"]))||0;this.pinOffset=Number(Gumby.selectAttr.apply(this.$el,["pinoffset"]))||0;this.top=Number(Gumby.selectAttr.apply(this.$el,["top"]))||0;this.constrainEl=Gumby.selectAttr.apply(this.$el,["constrain"])||true;if(this.constrainEl==="false"){this.constrainEl=false}this.$parent=this.$el.parents(".columns, .column, .row");this.$parent=this.$parent.length?this.$parent.first():false;this.parentRow=this.$parent?!!this.$parent.hasClass("row"):false;if(this.pinPoint){this.pinPoint=this.parseAttrValue(this.pinPoint)}if(this.$parent&&this.constrainEl){this.measure();$(window).resize(function(){if(b.state){b.measure();b.constrain()}})}};a.prototype.monitorScroll=function(){var d=$(window).scrollTop(),b=this.fixedPoint instanceof jQuery?this.fixedPoint.offset().top:this.fixedPoint,c=false;if(this.pinPoint){c=this.pinPoint instanceof jQuery?this.pinPoint.offset().top:this.pinPoint}if(this.offset){b-=this.offset}if(this.pinOffset){c-=this.pinOffset}if((d>=b)&&this.state!=="fixed"){if(!c||d<c){this.fix()}}else{if(d<b&&this.state==="fixed"){this.unfix()}else{if(c&&d>=c&&this.state!=="pinned"){this.pin()}}}};a.prototype.fix=function(){this.state="fixed";this.$el.css({top:0+this.top}).addClass("fixed").removeClass("unfixed pinned").trigger("gumby.onFixed");if(this.$parent){this.constrain()}};a.prototype.unfix=function(){this.state="unfixed";this.$el.addClass("unfixed").removeClass("fixed pinned").trigger("gumby.onUnfixed")};a.prototype.pin=function(){this.state="pinned";this.$el.css({top:this.$el.offset().top}).addClass("pinned fixed").removeClass("unfixed").trigger("gumby.onPinned")};a.prototype.constrain=function(){this.$el.css({left:this.measurements.left,width:this.measurements.width})};a.prototype.measure=function(){var c=this.$parent.offset(),b;this.measurements.left=c.left;this.measurements.width=this.$parent.width();if(this.parentRow){b=Number(this.$parent.css("paddingLeft").replace(/px/,""));if(b){this.measurements.left+=b}}};a.prototype.parseAttrValue=function(b){if($.isNumeric(b)){return Number(b)}else{if(b==="top"){return this.$el.offset().top}else{var c=$(b);return c}}};Gumby.addInitalisation("fixed",function(){$("[data-fixed],[gumby-fixed],[fixed]").each(function(){var b=$(this);if(b.data("isFixed")){return true}b.data("isFixed",true);new a(b)})});Gumby.UIModule({module:"fixed",events:["onFixed","onUnfixed"],init:function(){Gumby.initialize("fixed")}})}();!function(){var a=Gumby.$dom.find("html");if(!Modernizr.touch||$(window).width()>Gumby.breakpoint){a.addClass("gumby-no-touch");return}a.addClass("gumby-touch");function b(c){this.$el=c;this.$dropDowns=this.$el.find("li:has(.dropdown)");var d=this;this.$dropDowns.on("tap",this.toggleDropdown).on("swiperight",this.openLink);if(this.$dropDowns.children("a").attr("href")!=="#"){this.$dropDowns.children("a").append('<i class="icon-popup"></i>').children("i").on("tap",this.openLink)}$(window).on("mousemove touchstart",function(f){f.stopImmediatePropagation();if(f.type==="mousemove"){d.$dropDowns.on("mouseover mouseout",d.toggleDropdown)}})}b.prototype.toggleDropdown=function(d){d.stopImmediatePropagation();d.preventDefault();var c=$(this);if(c.hasClass("active")){c.removeClass("active")}else{c.addClass("active")}};b.prototype.openLink=function(g){g.stopImmediatePropagation();g.preventDefault();var f=$(this),d,c;if(f.is("i")){d=f.parent("a")}else{if(f.is("li")){d=f.children("a")}}c=d.attr("href");if(d.attr("target")=="blank"){window.open(c)}else{window.location=c}};Gumby.addInitalisation("navbars",function(){$(".navbar").each(function(){var c=$(this);if(c.data("isNavbar")){return true}c.data("isNavbar",true);new b(c)})});Gumby.UIModule({module:"navbar",events:[],init:function(){Gumby.initialize("navbars")}})}();!function(){function a(b){this.$el=b;this.$input=this.$el.find("input[type=radio]");var c=this;this.$el.on(Gumby.click,function(d){d.stopImmediatePropagation();d.preventDefault();if(c.$input.is("[disabled]")){return}c.update()}).on("gumby.check",function(){c.update()});if(c.$el.hasClass("checked")){c.update()}}a.prototype.update=function(){var b=this.$el.find("span"),c='input[name="'+this.$input.attr("name")+'"]';$(".radio").has(c).removeClass("checked").find("input").prop("checked",false).end().find("i").remove();this.$input.prop("checked",true);b.append('<i class="icon-dot" />');this.$el.addClass("checked").trigger("gumby.onChange")};Gumby.addInitalisation("radiobtns",function(){$(".radio").each(function(){var b=$(this);if(b.data("isRadioBtn")){return true}b.data("isRadioBtn",true);new a(b)})});Gumby.UIModule({module:"radiobtn",events:["onChange","check"],init:function(){Gumby.initialize("radiobtns")}})}();!function(){function a(b){this.$el=b;this.imageSrc=this.$el.attr("src");this.retinaSrc=this.fetchRetinaImage();this.$retinaImg=$(new Image());var c=this;if(!this.retinaSrc){return false}this.$retinaImg.attr("src",this.retinaSrc).load(function(){c.retinaImageLoaded()})}a.prototype.fetchRetinaImage=function(){var c=this.imageSrc,b=this.imageSrc.search(/(\.|\/)(gif|jpe?g|png)$/i);if(b<0){return false}return c.substr(0,b)+"@2x"+c.substr(b,c.length)};a.prototype.retinaImageLoaded=function(){this.$el.attr("src",this.$retinaImg.attr("src")).trigger("gumby.onRetina")};Gumby.addInitalisation("retina",function(){if(!window.devicePixelRatio||window.devicePixelRatio<=1){return}$("img[data-retina],img[gumby-retina],img[retina]").each(function(){var b=$(this);if(b.data("isRetina")){return true}b.data("isRetina",true);new a(b)})});Gumby.UIModule({module:"retina",events:["onRetina"],init:function(){Gumby.initialize("retina")}})}();!function(){function a(b){this.$el=b;this.targetPos=0;this.duration=0;this.offset=false;this.easing="";this.update=false;this.setup();var c=this;this.$el.on(Gumby.click+" gumby.skip",function(d){d.stopImmediatePropagation();d.preventDefault();if(c.update){c.calculateTarget(c.skipTo)}else{c.skipTo()}}).on("gumby.initialize",function(){c.setup()})}a.prototype.setup=function(){this.duration=Number(Gumby.selectAttr.apply(this.$el,["duration"]))||200;this.offset=Gumby.selectAttr.apply(this.$el,["offset"])||false;this.easing=Gumby.selectAttr.apply(this.$el,["easing"])||"swing";this.update=Gumby.selectAttr.apply(this.$el,["update"])?true:false;this.calculateTarget()};a.prototype.calculateTarget=function(c){var d=this,e=Gumby.selectAttr.apply(this.$el,["goto"]),b;if(e=="top"){this.targetPos=0}else{if($.isNumeric(e)){this.targetPos=Number(e)}else{b=$(e);if(!b){return false}this.targetPos=b.offset().top}}if(c){c.apply(this)}};a.prototype.skipTo=function(){var b=this;$("html,body").animate({scrollTop:this.calculateOffset()},this.duration,this.easing).promise().done(function(){b.$el.trigger("gumby.onComplete")})};a.prototype.calculateOffset=function(){if(!this.offset){return this.targetPos}var c=this.offset.substr(0,1),b=Number(this.offset.substr(1,this.offset.length));if(c==="-"){return this.targetPos-b}else{if(c==="+"){return this.targetPos+b}}};Gumby.addInitalisation("skiplinks",function(b){$(".skiplink > a, .skip").each(function(){var c=$(this);if(c.data("isSkipLink")&&!b){return true}else{if(c.data("isSkipLink")&&b){c.trigger("gumby.initialize");return true}}c.data("isSkipLink",true);new a(c)})});Gumby.UIModule({module:"skiplink",events:["onComplete","skip"],init:function(){Gumby.initialize("skiplinks")}})}();!function(){function a(b){this.$el=b;this.$nav=this.$el.find("ul.tab-nav > li");this.$content=this.$el.find(".tab-content");var c=this;this.$nav.children("a").on(Gumby.click,function(d){d.stopImmediatePropagation();d.preventDefault();c.click($(this))});this.$el.on("gumby.set",function(f,d){c.set(f,d)})}a.prototype.click=function(c){var b=c.parent().index();this.$nav.add(this.$content).removeClass("active");this.$nav.eq(b).add(this.$content.eq(b)).addClass("active");this.$el.trigger("gumby.onChange",b)};a.prototype.set=function(c,b){this.$nav.eq(b).find("a").trigger(Gumby.click)};Gumby.addInitalisation("tabs",function(){$(".tabs").each(function(){var b=$(this);if(b.data("isTabs")){return true}b.data("isTabs",true);new a(b)})});Gumby.UIModule({module:"tabs",events:["onChange","set"],init:function(){Gumby.initialize("tabs")}})}();!function(){function b(c){this.$el=$(c);this.targets=[];this.on="";if(this.$el.length){this.init()}}function a(c){this.$el=$(c);this.targets=[];this.on="";if(this.$el.length){this.init()}}b.prototype.init=function(){var c=this;this.setup();this.$el.on(this.on,function(d){d.stopImmediatePropagation();if($(this).prop("tagName")==="A"){d.preventDefault()}c.trigger(c.triggered)}).on("gumby.trigger",function(){c.trigger(c.triggered)}).on("gumby.initialize",function(){c.setup()})};b.prototype.setup=function(){this.targets=this.parseTargets();this.on=Gumby.selectAttr.apply(this.$el,["on"])||Gumby.click;this.className=Gumby.selectAttr.apply(this.$el,["classname"])||"active"};b.prototype.parseTargets=function(){var e=Gumby.selectAttr.apply(this.$el,["trigger"]),d=0,c=[];if(!e){return false}d=e.indexOf("|");if(d===-1){return[$(e)]}c=e.split("|");return c.length>1?[$(c[0]),$(c[1])]:[$(c[0])]};b.prototype.triggered=function(){this.$el.trigger("gumby.onTrigger",[this.$el.hasClass(this.className)])};a.prototype=new b();b.prototype.trigger=function(c){if(!this.targets){this.$el.toggleClass(this.className)}else{if(this.targets.length==1){this.$el.add(this.targets[0]).toggleClass(this.className)}else{if(this.targets.length>1){if(this.targets[0].hasClass(this.className)){this.$el.add(this.targets[0]).removeClass(this.className);this.targets[1].addClass(this.className)}else{this.targets[1].removeClass(this.className);this.$el.add(this.targets[0]).addClass(this.className)}}}}if(c&&typeof c==="function"){c.apply(this)}};a.prototype.trigger=function(c){if(!this.targets){this.$el.addClass(this.className)}else{if(this.targets.length==1){this.$el.add(this.targets[0]).addClass(this.className)}else{if(this.targets.length>1){this.$el.add(this.targets[0]).addClass(this.className);this.targets[1].removeClass(this.className)}}}if(c&&typeof c==="function"){c.apply(this)}};Gumby.addInitalisation("toggles",function(c){$(".toggle").each(function(){var d=$(this);if(d.data("isToggle")&&!c){return true}else{if(d.data("isToggle")&&c){d.trigger("gumby.initialize")}}d.data("isToggle",true);new b(d)})});Gumby.addInitalisation("switches",function(c){$(".switch").each(function(){var d=$(this);if(d.data("isSwitch")&&!c){return true}else{if(d.data("isSwitch")&&c){d.trigger("gumby.initialize");return true}}d.data("isSwitch",true);new a(d)})});Gumby.UIModule({module:"toggleswitch",events:["trigger","onTrigger"],init:function(){Gumby.initialize("switches");Gumby.initialize("toggles")}})}();!function(a){function b(e,d){this.$this=e;this.$field=this.$this.parents(".field");this.req=d||function(){return !!this.$this.val().length};var c=this;if(this.$this.is("[type=checkbox], [type=radio]")){this.$field=this.$this.parent("label");this.$field.on("gumby.onChange",function(){c.validate()})}else{if(this.$this.is("select")){this.$field=this.$this.parents(".picker");this.$field.on("change",function(){c.validate()})}else{this.$this.on("blur",function(f){if(f.which!==9){c.validate()}})}}}b.prototype.validate=function(){var c=this.req(this.$this);if(!c){this.$field.removeClass("success").addClass("danger")}else{this.$field.removeClass("danger").addClass("success")}return c};a.fn.validation=function(c){var e=a.extend({submit:false,fail:false,required:[]},c),d=[];return this.each(function(){if(!e.required.length){return false}var g=a(this),h=e.required.length,f;for(f=0;f<h;f++){d.push(new b(g.find('[name="'+e.required[f].name+'"]'),e.required[f].validate||false))}g.on("submit",function(l){var j=false;if(!g.data("passed")){l.preventDefault();var m=d.length,k;for(k=0;k<m;k++){if(!d[k].validate()){j=true}}if(!j){if(e.submit&&typeof e.submit==="function"){e.submit(g.serializeArray());return}g.data("passed",true).submit()}else{if(e.fail&&typeof e.fail==="function"){e.fail();return}}}})})}}(jQuery);